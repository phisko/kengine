namespace kengine::opengl::shaders::src {
	namespace ApplyTransparency {
		namespace Frag {
			const char * glsl = R"(
#version 330

void applyTransparency(float alpha) {
	const int matrixSide = 4;
	const float thresholdMatrix[matrixSide * matrixSide] = float[matrixSide * matrixSide](
		1.0,  9.0,  3.0, 11.0,
		13.0,  5.0, 15.0,  7.0,
		4.0, 12.0,  2.0, 10.0,
		16.0,  8.0, 14.0,  6.0
	);

	// const int matrixSide = 8;
	// const float thresholdMatrix[matrixSide * matrixSide] = float[matrixSide * matrixSide](
	// 	32,   3,  13,   1,
	// 	35,  31,  45,  37,
	// 	10,  56,  18,  23,
	// 	42,  61,   7,  24,
	// 	39,  27,  12,  48,
	// 	44,  38,  62,  33,
	// 	49,  22,  20,  52,
	// 	34,  19,  54,  53,
	// 	15,  26,  30,  11,
	// 	51,  25,  16,  21,
	// 	 9,  36,  29,  50,
	// 	57,  60,   5,  46,
	// 	40,  43,   4,   8,
	// 	63,   2,  64,  17,
	// 	28,  47,  59,  14,
	// 	 6,  41,  55,  58
	// );

	// const int matrixSide = 16;
	// const float thresholdMatrix[matrixSide * matrixSide] = float[matrixSide * matrixSide](
	// 	 86,   46,  108,   10,  184,  134,  122,  120,   91,  140,  162,  237,  201,   24,  117,  239,
	// 	 45,  210,   84,  197,   20,   63,  251,  194,  222,  181,  180,  169,  249,  190,  216,  199,
	// 	131,  132,  230,   13,   69,  148,   53,   80,  146,  170,   85,  157,  231,   47,  243,   39,
	// 	151,    4,  152,  114,   38,   37,  254,  165,  111,  126,  113,  154,  188,  245,    3,  107,
	// 	 42,  147,  161,   70,   25,  115,   14,   72,  208,  247,  105,  224,  129,  128,  103,   79,
	// 	 34,  215,  217,  110,   75,  160,  242,   36,  238,   88,   98,   97,   43,  142,  234,  172,
	// 	155,   44,  100,  244,  119,   77,   71,   94,   74,  207,  192,   12,   57,  102,   62,  226,
	// 	158,  235,  227,    1,  250,  220,   55,    9,  189,  171,    7,   68,  138,   92,  252,  183,
	// 	 59,  137,   89,   51,  205,   56,  256,   58,  218,  135,   31,  133,  187,  253,  141,   18,
	// 	228,  221,   23,  229,  212,  204,   41,  175,  236,  193,   35,  255,  211,  186,   87,   76,
	// 	163,  203,   54,    8,   61,  240,  191,  136,  124,  196,   64,   16,   78,  159,   11,   19,
	// 	 40,  200,   26,   99,   90,   83,  219,   15,   60,   50,  167,   73,  232,  177,  125,  139,
	// 	106,  206,  198,   95,   52,   32,   33,   48,  145,  144,   30,  178,  109,    2,  118,  150,
	// 	225,   21,  241,  116,  233,   17,  112,  214,  166,  168,  246,  127,   66,    6,   82,   49,
	// 	 22,   65,  185,  156,  123,  223,  149,   67,  195,  202,  173,   81,   28,   96,  101,  174,
	// 	176,  248,  153,  104,  143,  179,   29,    5,  209,  121,  164,   93,  130,  213,  182,   27
	// );

	int x = int(gl_FragCoord.x);
	int y = int(gl_FragCoord.y);
	if (alpha < thresholdMatrix[(x % matrixSide) * matrixSide + y % matrixSide] / (matrixSide * matrixSide + 1))
		discard;
}
)";
		}
	}
}